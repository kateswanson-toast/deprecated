// This file is auto-generated by the SPA "yarn dev" command

(function() {
  const script = document.createElement('script')
  script.src = '${src}'
  script.onerror = () => {
    const div = document.createElement('div')
    div.innerHTML = `<style>
      .dev-spa-error { background: #faa; border: 4px solid #f00; padding: 1em; margin-bottom: 1em; }
      .dev-spa-error > * { margin: 0; }
      .dev-spa-error > *:not(:last-child) { margin-bottom: 1em; }
    </style>
    <div class='dev-spa-error'>
      <h2>Unable to load ${src}</h2>
      <p>If you are trying to locally develop the <code>${projectName}</code> SPA, ensure
      the <code>yarn dev</code> server is running.</p>
      <p>If you are trying to load the <code>${projectName}</code> SPA from svcmgmt,
      ensure the <code>${localDevPath}</code> directory is empty.</p>
    </div>`
    const target = document.body || document.head
    target.insertBefore(div, target.firstChild)
  }
  document.head.appendChild(script)
}())
